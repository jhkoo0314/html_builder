# Security Requirements

작성일: 2026-03-01

## 1. 인증/인가
- 외부 API는 기본적으로 인증 필수.
- 권한 모델:
  - `user`: 작업 생성/조회
  - `operator`: 로그/상태 조회
  - `admin`: 운영 설정 변경

## 2. 입력 보안
- 업로드 제한:
  - 파일당 최대 크기
  - 요청당 파일 개수
  - 허용 MIME/확장자 화이트리스트
- 악성 파일 검사(최소 시그니처 검사 + 비동기 AV 스캔 고려).

## 3. API 보호
- Rate Limit: IP/토큰 기준.
- WAF 룰 또는 reverse proxy 제한.
- CORS 허용 origin 명시.

## 4. 비밀정보 관리
- `.env` 로컬 전용.
- 운영은 Secret Manager 사용.
- 로그에 API 키/토큰 마스킹.

## 5. 감사/추적
- 민감 엔드포인트 접근 감사 로그 필수.
- `requestId`, `actorId`, `ip`, `userAgent` 기록.

## 6. 취약점 관리
- 의존성 스캔(SCA) 자동화.
- 정적분석(SAST) + 컨테이너 이미지 스캔.
- 정기 침투 테스트(반기 1회 이상).

## 7. 보안 체크리스트
- [ ] 인증 미적용 엔드포인트 없음
- [ ] 413/429 정책 적용
- [ ] 비밀정보 마스킹 적용
- [ ] 감사 로그 확인 가능

